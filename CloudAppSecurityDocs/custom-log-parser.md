---
title: "Использование настраиваемого средства синтаксического анализа для журналов, которые не поддерживаются | Документация Майкрософт"
description: "В этой статье представлены сведения об использовании настраиваемого средства синтаксического анализа журналов для отправки журналов устройств, которые не поддерживаются в Cloud App Security."
keywords: 
author: rkarlin
ms.author: rkarlin
manager: mbaldwin
ms.date: 5/7/2017
ms.topic: article
ms.prod: 
ms.service: cloud-app-security
ms.technology: 
ms.assetid: a612d87e-5471-4add-b4b1-dbbb530f2b61
ms.reviewer: reutam
ms.suite: ems
ms.openlocfilehash: 73da4104de24a7b2e6814f04b227140b0b57235f
ms.sourcegitcommit: 2f4474084c7e07ac4853945ab5aa1ea78950675d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/28/2017
---
# <a name="use-a-custom-log-parser"></a>Использование настраиваемого средства синтаксического анализа журналов
Компонент Cloud App Security позволяет настраивать пользовательское средство синтаксического анализа для сопоставления и обработки формата журналов, чтобы их можно было использовать для Cloud Discovery, даже если журналы принадлежат брандмауэру или устройству, которые компонент Cloud App Security явно не поддерживает. 

Чтобы пользовательское средство синтаксического анализа позволило использовать журналы из неподдерживаемых брандмауэров, выполните следующую процедуру. 


 
Настройка пользовательского средства синтаксического анализа CSV.
1.  На портале Cloud App Security щелкните **Обнаружение**, а затем — **Создать отчет о снимке**.  
  
    ![Создание отчета о снимке](./media/create-new-snapshot-report.png)
     
3.  Введите **имя отчета** и **описание**.
  
4.  В разделе **Источник данных** выберите **Пользовательский формат журнала...**.  

     ![Новый отчет о снимке](./media/custom-log-upload.png)   

5. Соберите журналы из брандмауэра и прокси-сервера, через которые пользователи в вашей организации получают доступ к Интернету. Сбор производите по время пиковой нагрузки, чтобы в данных были отражены все действия пользователей в организации. 

6. Откройте журналы, которые требуется обработать в текстовом редакторе, и проверьте их формат: имена столбцов в журнале должны соответствовать полям на экране **Пользовательский формат журнала**.

  ![Средство синтаксического анализа пользовательского журнала](./media/log-data.png) 

7. Заполните поля на основе данных, чтобы указать, какие столбцы данных соответствуют конкретным полям в Cloud App Security. Может потребоваться изменить имена столбцов в файле журнала, чтобы они правильно сопоставлялись.
  
   > [!NOTE]
    > Данные в полях должны вводиться с учетом регистра. Убедитесь, что имена столбцов в Cloud App Security и файле журнала идентичны. Также убедитесь, что в них выбран одинаковый формат даты.

   ![Средство синтаксического анализа пользовательского журнала](./media/custom-log-parser.png) 


7. Нажмите кнопку **Сохранить**. Формат пользовательского журнала, который вы настроили, будет сохранен как пользовательское средство синтаксического анализа по умолчанию. Его можно изменить в любое время, нажав кнопку "Редактировать".

5. В разделе **Выберите журналы трафика** выберите измененный файл журнала и отправьте его. Одновременно можно отправить до 20 файлов. Также поддерживаются сжатые и ZIP-файлы.  
  

6.  Нажмите кнопку **Create** (Создать).  

7.  После завершения отправки в правом верхнем углу отображается сообщение о состоянии, указывающее, что журнал был успешно отправлен.  
  
8.  После отправки файлов журнала их анализ может занять некоторое время.  
После завершения обработки файлов журналов вы получите по электронной почте уведомление об этом. 
  
9. В верхней части портала в строке состояния появится баннер со сведениями о ходе обработки файлов журнала.  
![строка меню с сообщением об обработке файлов журнала](./media/processing-log-file-menu-bar.png) 
   
10. После отправки журналов появится уведомление о том, что обработка файлов журнала успешно завершена. На этом этапе можно просмотреть отчет, щелкнув ссылку в строке состояния либо значок параметров в виде шестеренки и выбрав пункт **Параметры Cloud Discovery**.   
  
     ![Вкладка параметров обнаружения](./media/discovery-settings-tab.png)
11. Затем щелкните пункт **Управление отчетами о снимках** и выберите отчет о снимке.
 
    ![Управление отчетами о моментальных снимках](./media/snapshot-report-managment.png)

  
      




## <a name="see-also"></a>См. также:
 
[Создание отчетов о снимках Cloud Discovery](create-snapshot-cloud-discovery-reports.md)

[Настройка автоматической отправки журналов для непрерывных отчетов](configure-automatic-log-upload-for-continuous-reports.md)

[Работа с данными Cloud Discovery](working-with-cloud-discovery-data.md)

